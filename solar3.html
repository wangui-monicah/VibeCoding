<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBSERVER_TERMINAL // FATAL_ERROR</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400&family=Oswald:wght@700&display=swap');

        :root {
            --blood: #8a0303;
            --term: #a8a8a8;
            --black: #020202;
            --scan-line: rgba(255, 0, 0, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; } /* Hides default cursor */

        body {
            background-color: var(--black);
            color: var(--term);
            font-family: 'Courier Prime', monospace;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        /* --- CUSTOM CURSOR --- */
        #cursor {
            position: fixed; width: 20px; height: 20px;
            border: 1px solid var(--blood); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none;
            z-index: 10000; transition: width 0.1s, height 0.1s;
            mix-blend-mode: difference;
        }
        #cursor.hovered { width: 50px; height: 50px; background: rgba(138, 3, 3, 0.2); }

        /* --- UI OVERLAYS --- */
        #bio-monitor {
            position: fixed; top: 20px; right: 20px;
            font-family: 'Oswald', sans-serif; text-align: right;
            z-index: 900; color: var(--blood);
        }
        #bpm-display { font-size: 3rem; }
        #status-display { font-size: 1rem; letter-spacing: 2px; }

        #scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2));
            background-size: 100% 4px;
            pointer-events: none; z-index: 800;
        }

        #cracked-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/cracked-glass.png');
            opacity: 0; z-index: 950; pointer-events: none;
            mix-blend-mode: overlay;
            transition: opacity 0.2s;
        }

        /* --- START SCREEN --- */
        #start-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        button {
            background: #000; color: #fff; border: 1px solid #333;
            padding: 20px 40px; font-family: 'Courier Prime'; text-transform: uppercase;
            letter-spacing: 5px; cursor: none; transition: 0.3s;
        }
        button:hover { background: var(--blood); color: #000; border-color: var(--blood); }

        /* --- UNIVERSE --- */
        #universe {
            height: 100vh; overflow-y: scroll; scroll-behavior: smooth;
            opacity: 0; transition: opacity 3s;
        }
        #universe::-webkit-scrollbar { width: 0; }

        .section {
            height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            border-bottom: 1px solid #111; position: relative;
        }

        .planet-wrapper {
            width: 300px; height: 300px; display: flex; justify-content: center; align-items: center;
            position: relative;
        }

        .planet {
            width: 150px; height: 150px; border-radius: 50%;
            background: #000; border: 1px solid #333;
            box-shadow: 0 0 20px rgba(255,255,255,0.05);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden;
        }
        .planet-wrapper:hover .planet { transform: scale(1.5); border-color: var(--blood); box-shadow: 0 0 50px var(--blood); }
        
        .label {
            position: absolute; bottom: 20%;
            font-family: 'Oswald'; font-size: 4rem; color: #111;
            text-transform: uppercase; letter-spacing: 10px;
            pointer-events: none; transition: 0.3s; z-index: -1;
        }
        .section:hover .label { color: var(--term); text-shadow: 0 0 10px var(--term); }

        /* --- DEATH OVERLAY --- */
        #death-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 2000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 1s;
        }
        #death-screen.active { opacity: 1; pointer-events: all; }

        .death-text {
            max-width: 600px; padding: 20px; text-align: justify;
            color: #ccc; line-height: 1.8; font-size: 1.1rem;
            border-left: 2px solid var(--blood);
            animation: text-flicker 0.1s infinite;
        }
        
        h1.death-header {
            font-family: 'Oswald'; font-size: 6rem; color: var(--blood);
            text-shadow: 2px 2px 0px #fff; mix-blend-mode: exclusion;
            margin-bottom: 20px;
        }

        /* --- ANIMATIONS --- */
        @keyframes text-flicker {
            0% { opacity: 1; transform: translateX(0); }
            5% { opacity: 0.8; transform: translateX(1px); }
            10% { opacity: 1; transform: translateX(-1px); }
            100% { opacity: 1; }
        }
        @keyframes violent-shake {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-10px, 10px) rotate(-1deg); }
            50% { transform: translate(10px, -10px) rotate(1deg); }
            75% { transform: translate(-10px, -10px) rotate(-1deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        @keyframes red-flash {
            0% { background: rgba(138, 3, 3, 0); }
            10% { background: rgba(138, 3, 3, 0.8); }
            100% { background: rgba(138, 3, 3, 0); }
        }

        .shaking { animation: violent-shake 0.2s infinite; }
        .bleeding { animation: red-flash 0.5s forwards; }

    </style>
</head>
<body>

    <div id="cursor"></div>
    <div id="scanlines"></div>
    <div id="cracked-screen"></div>

    <div id="bio-monitor">
        <div id="bpm-display">00 BPM</div>
        <div id="status-display">SIGNAL LOST</div>
    </div>

    <div id="start-screen">
        <p style="margin-bottom: 20px; color: #444;">[ SENSORY WARNING: EXTREME ]</p>
        <button id="start-btn">CONNECT NEURAL LINK</button>
    </div>

    <!-- MAIN SCROLLABLE UNIVERSE -->
    <div id="universe">
        
        <div class="section" onmouseenter="setRisk(120)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('sun')">
                <div class="planet" style="background: radial-gradient(#fff, #ff5e00);"></div>
            </div>
            <div class="label">SOL</div>
        </div>

        <div class="section" onmouseenter="setRisk(60)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('mercury')">
                <div class="planet" style="background: radial-gradient(#777, #333);"></div>
            </div>
            <div class="label">MERCURY</div>
        </div>

        <div class="section" onmouseenter="setRisk(80)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('venus')">
                <div class="planet" style="background: radial-gradient(#eec, #c84);"></div>
            </div>
            <div class="label">VENUS</div>
        </div>

        <div class="section" onmouseenter="setRisk(40)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('earth')">
                <div class="planet" style="background: radial-gradient(#46a, #000);"></div>
            </div>
            <div class="label">EARTH</div>
        </div>

        <div class="section" onmouseenter="setRisk(70)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('mars')">
                <div class="planet" style="background: radial-gradient(#d33, #511);"></div>
            </div>
            <div class="label">MARS</div>
        </div>

        <div class="section" onmouseenter="setRisk(90)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('jupiter')">
                <div class="planet" style="background: radial-gradient(#ca9, #853);"></div>
            </div>
            <div class="label">JUPITER</div>
        </div>

        <div class="section" onmouseenter="setRisk(85)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('saturn')">
                <div class="planet" style="background: radial-gradient(#e3d09d, #b5a642);"></div>
            </div>
            <div class="label">SATURN</div>
        </div>

        <div class="section" onmouseenter="setRisk(100)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('uranus')">
                <div class="planet" style="background: radial-gradient(#a3e8ff, #4287f5);"></div>
            </div>
            <div class="label">URANUS</div>
        </div>

        <div class="section" onmouseenter="setRisk(110)" onmouseleave="setRisk(0)">
            <div class="planet-wrapper" onclick="killUser('neptune')">
                <div class="planet" style="background: radial-gradient(#3333ff, #00008b);"></div>
            </div>
            <div class="label">NEPTUNE</div>
        </div>
        
        <div style="height: 50vh;"></div>
    </div>

    <!-- DEATH SCREEN OVERLAY -->
    <div id="death-screen">
        <h1 class="death-header" id="d-head">FATALITY</h1>
        <p class="death-text" id="d-text">...</p>
        <br><br>
        <button id="lazarus-btn" onclick="revive()">INITIATE LAZARUS PROTOCOL</button>
    </div>

    <script>
        // --- CUSTOM CURSOR ---
        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        document.querySelectorAll('.planet-wrapper, button').forEach(el => {
            el.addEventListener('mouseover', () => cursor.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
        });

        // --- AUDIO ENGINE ---
        let audioCtx, masterGain, heartOsc, droneOsc, tinOsc;
        let isAlive = false;
        let heartInterval;
        let tinnitusNode;

        function initAudio() {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioCtx = new AudioContext();
            masterGain = audioCtx.createGain();
            masterGain.connect(audioCtx.destination);
            
            // Background Drone
            droneOsc = audioCtx.createOscillator();
            droneOsc.type = 'sawtooth';
            droneOsc.frequency.value = 50;
            const droneFilter = audioCtx.createBiquadFilter();
            droneFilter.type = 'lowpass';
            droneFilter.frequency.value = 100;
            const droneVol = audioCtx.createGain();
            droneVol.gain.value = 0.3;
            
            droneOsc.connect(droneFilter);
            droneFilter.connect(droneVol);
            droneVol.connect(masterGain);
            droneOsc.start();
            
            startHeartbeat();
            isAlive = true;
        }

        // --- HEARTBEAT SYSTEM ---
        let currentBPM = 60;
        let targetBPM = 60;

        function playHeartbeat() {
            if(!isAlive) return;
            
            // Sound
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            gain.gain.setValueAtTime(0.8, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            
            osc.connect(gain);
            gain.connect(masterGain);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);

            // Pulse Visual
            document.getElementById('bpm-display').style.transform = "scale(1.1)";
            setTimeout(() => document.getElementById('bpm-display').style.transform = "scale(1)", 100);
        }

        function startHeartbeat() {
            function loop() {
                if(!isAlive) return;
                currentBPM += (targetBPM - currentBPM) * 0.1;
                document.getElementById('bpm-display').innerText = Math.floor(currentBPM) + " BPM";
                
                let status = "STABLE";
                let color = "var(--term)";
                if(currentBPM > 90) { status = "ELEVATED"; color = "#ffd700"; }
                if(currentBPM > 120) { status = "CRITICAL"; color = "var(--blood)"; }
                
                const disp = document.getElementById('status-display');
                disp.innerText = status;
                disp.style.color = color;

                playHeartbeat();
                let interval = 60000 / currentBPM;
                heartInterval = setTimeout(loop, interval);
            }
            loop();
        }

        function setRisk(level) {
            if(!isAlive) return;
            targetBPM = 60 + level;
        }

        // --- DEATH LOGIC ---
        const deathData = {
            sun: {
                head: "INCINERATION",
                text: "Pain is a signal. Here, the signal travels slower than the destruction. Your retinas burn out before your brain registers the light. The water in your cells instantly flashes into steam, exploding your body from the inside out. You are not dying; you are becoming physics."
            },
            mercury: {
                head: "THERMAL SHOCK",
                text: "The sun side strips the protons from your atoms. Your blood boils in your veins. If you crawl to the dark side, the boiling blood freezes instantly into jagged crimson crystals. You are a statue of gore on a silent rock."
            },
            venus: {
                head: "IMPLOSION",
                text: "The pressure is 90 times that of Earth. Your ribs snap inward, puncturing your lungs like popped balloons. The atmosphere is sulfuric acid; as you gasp for air, you dissolve your throat from the inside. You are being digested by the sky."
            },
            earth: {
                head: "DROWNING",
                text: "You crashed in the ocean. Alone. The water is cold and dark. You float, looking up at the stars, realizing that in a universe of chaos, this was the only safe place, and you missed it. The salt water fills your lungs. It burns."
            },
            mars: {
                head: "ASPHYXIATION",
                text: "The atmosphere is too thin to hold your fluids together. The saliva on your tongue boils away. You gasp for oxygen but inhale only rust and dust. Your eyes dry out and crack. You claw at your throat, but there is nothing to breathe."
            },
            jupiter: {
                head: "LIQUEFACTION",
                text: "There is no surface. You fall through storms of metallic hydrogen. The radiation creates a storm in your mind, firing every neuron at once. Then the pressure builds. You do not break; you become liquid. You mix with the storm forever."
            },
            saturn: {
                head: "SHREDDED",
                text: "You drifted into the rings. They look like dust from afar, but they are mountains of ice moving at 40,000 mph. You are not just hit; you are erased. Your suit, your body, and your bones are turned into a fine red mist that paints the ice."
            },
            uranus: {
                head: "CRYOGENIC",
                text: "The cold is absolute. It stops atoms. Your heart doesn't stop beating; it freezes mid-beat. Your brain activity ceases instantly. You are perfectly preserved, drifting in a blue fog for eternity. A monument to silence."
            },
            neptune: {
                head: "SHEAR FORCE",
                text: "The winds here move faster than sound. You are not blown away; you are torn apart. The different parts of your body are accelerated in different directions. You are smeared across the atmosphere like oil on canvas."
            }
        };

        const startBtn = document.getElementById('start-btn');
        const universe = document.getElementById('universe');
        const deathScreen = document.getElementById('death-screen');

        startBtn.addEventListener('click', () => {
            initAudio();
            document.getElementById('start-screen').style.display = 'none';
            universe.style.opacity = 1;
        });

        function killUser(planet) {
            isAlive = false;
            clearTimeout(heartInterval);
            
            // 1. FLATLINE SOUND
            const osc = audioCtx.createOscillator();
            osc.frequency.value = 2000; 
            osc.connect(masterGain);
            osc.start();
            
            // Tinnitus
            tinnitusNode = audioCtx.createOscillator();
            tinnitusNode.frequency.value = 8000;
            const tinGain = audioCtx.createGain();
            tinnitusNode.connect(tinGain);
            tinGain.connect(masterGain);
            tinnitusNode.start();
            tinGain.gain.setValueAtTime(0, audioCtx.currentTime);
            tinGain.gain.linearRampToValueAtTime(0.05, audioCtx.currentTime + 2);
            
            // 2. VISUAL HORROR
            document.body.classList.add('shaking');
            
            // Create bleeding flash
            const flash = document.createElement('div');
            flash.style.position = 'fixed'; flash.style.top=0; flash.style.left=0; 
            flash.style.width='100%'; flash.style.height='100%';
            flash.style.zIndex = 9999;
            flash.style.pointerEvents = 'none'; // FIX: ALLOWS CLICKS THROUGH
            flash.classList.add('bleeding');
            document.body.appendChild(flash);
            
            // Remove flash after animation
            setTimeout(() => flash.remove(), 600);

            document.getElementById('bpm-display').innerText = "ERROR";
            document.getElementById('status-display').innerText = "FATAL";
            document.getElementById('cracked-screen').style.opacity = 0.6;

            // 3. SHOW DATA
            setTimeout(() => {
                document.body.classList.remove('shaking');
                universe.style.display = 'none';
                osc.stop(); // Stop flatline beep
                
                const data = deathData[planet];
                document.getElementById('d-head').innerText = data.head;
                document.getElementById('d-text').innerText = data.text;
                deathScreen.classList.add('active');
            }, 1500);
        }

        function revive() {
            deathScreen.classList.remove('active');
            universe.style.display = 'block';
            document.getElementById('cracked-screen').style.opacity = 0;
            
            // Stop Tinnitus
            if(tinnitusNode) {
                try { tinnitusNode.stop(); } catch(e){}
            }

            // Reset
            isAlive = true;
            currentBPM = 60;
            startHeartbeat();
        }

    </script>
</body>
</html>
